{% include "user/components/header.html" %}
{% include "user/components/navbar.html" %}

<!-- Header Start -->
<div class="container-fluid mb-5 p-0"
     style="background-image: url('{{ url_for('static', filename='images/headers/' ~ settings.header_image) }}'); background-size: cover; background-position: center;">
    <div class="d-flex flex-column align-items-center justify-content-center" style="height: 400px; background-color: rgba(0, 0, 0, 0.5);">
        <h3 class="display-3 font-weight-bold text-white">Kontak Sekolah</h3>
        <div class="d-inline-flex text-white">
            <p class="m-0"><a class="text-white" href="{{ url_for('home') }}">Beranda</a></p>
            <p class="m-0 px-2">></p>
            <p class="m-0">Kontak</p>
        </div>
    </div>
</div>
<!-- Header End -->

<!-- Contact Start -->
<div class="container-fluid pt-5">
    <div class="container">
        <div class="text-center pb-2">
            <p class="section-title px-5"><span class="px-2">Hubungi Kami</span></p>
            <h1 class="mb-4">Kontak Sekolah</h1>
        </div>
        
        <!-- Map Start -->
        <div class="container mb-5">
            <div class="shadow rounded overflow-hidden" style="height: 300px;">
                <iframe class="w-100 h-100 border-0"
                    src="{{ contact.map_url }}"
                    allowfullscreen=""
                    aria-hidden="false"
                    tabindex="0">
                </iframe>
            </div>
        </div>
        <!-- Map End -->

        <div class="row">
            <div class="col-lg-7 mb-5">
                <div class="contact-form">
                    {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, msg in messages %}
                        <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                            {{ msg }}
                            <button type="button" class="close" data-bs-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        {% endfor %}
                    {% endif %}
                    {% endwith %}
                    <form method="POST" action="{{ url_for('submit_contact_message') }}" name="sentMessage" novalidate="novalidate">
                        <div class="control-group mb-3">
                            <input type="text" class="form-control" name="name" placeholder="Nama" required>
                        </div>
                        <div class="control-group mb-3">
                            <input type="email" class="form-control" name="email" placeholder="Email" required>
                        </div>
                        <div class="control-group mb-3">
                            <input type="text" class="form-control" name="subject" placeholder="Subjek" required>
                        </div>
                        <div class="control-group mb-3">
                            <textarea class="form-control" rows="6" name="message" placeholder="Pesan" required></textarea>
                        </div>
                        <!-- Tambahkan sebelum tombol submit -->
                        <div class="g-recaptcha mb-3" data-sitekey="6Lc8EIorAAAAAJMkXo6tY0gFRgDf26GcsQewszWA"></div>
                        <script src="https://www.google.com/recaptcha/api.js" async defer></script>
                        <div>
                            <button class="btn btn-primary py-2 px-4" type="submit">Kirim Pesan</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="col-lg-5 mb-5">
                <p>Jangan ragu untuk menghubungi kami melalui informasi kontak di bawah ini.</p>
                <div class="d-flex">
                    <i class="fa fa-map-marker-alt d-inline-flex align-items-center justify-content-center bg-primary text-secondary rounded-circle" style="width: 45px; height: 45px;"></i>
                    <div class="pl-3">
                        <h5>Alamat</h5>
                        <p>{{ contact.address or 'Address not set' }}</p>
                    </div>
                </div>
                <div class="d-flex">
                    <i class="fa fa-envelope d-inline-flex align-items-center justify-content-center bg-primary text-secondary rounded-circle" style="width: 45px; height: 45px;"></i>
                    <div class="pl-3">
                        <h5>Email</h5>
                        <p>{{ contact.email or 'Email not set' }}</p>
                    </div>
                </div>
                <div class="d-flex">
                    <i class="fa fa-phone-alt d-inline-flex align-items-center justify-content-center bg-primary text-secondary rounded-circle" style="width: 45px; height: 45px;"></i>
                    <div class="pl-3">
                        <h5>Telepon</h5>
                        <p>{{ contact.phone or 'Phone not set' }}</p>
                    </div>
                </div>
                <div class="d-flex">
                    <i class="far fa-clock d-inline-flex align-items-center justify-content-center bg-primary text-secondary rounded-circle" style="width: 45px; height: 45px;"></i>
                    <div class="pl-3">
                        <h5>Waktu Layanan</h5>
                        <p class="m-0">{{ contact.hours or '08:00 AM - 05:00 PM' }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Contact End -->

{% include "user/components/footer.html" %}
